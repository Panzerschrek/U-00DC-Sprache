import "/type_traits.u"
import "../proc.uh"
import "unix.uh"

namespace BK
{

fn GetNumberOfCPUs() : u32
{
	return u32( unsafe( ::sysconf( i32( ü_SC_NPROCESSORS_ONLN ) ) ) );
}

var u32 ü_SC_NPROCESSORS_ONLN = ( ust::constexpr_string_equals( compiler::target::vendor, "apple" ) ? 58u : 84u );

} // namespace BK

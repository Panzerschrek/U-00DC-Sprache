import "../code_builder_lib/llvm.uh"

// If contents of this file changed, funcs_c.hpp must be changed too!

fn nomangle U1_BuildProgram(
	char8& program_text_start,
	size_type program_text_size,
	LLVMContextRef llvm_context,
	LLVMTargetDataRef data_layout ) unsafe : LLVMModuleRef;

type ErrorHanglerFunc= fn( void &mut data, u32 line, u32 column, u32 error_code, char8& error_text, size_type error_text_length ) unsafe;

// Returns false in case of lexical/syntax errors.
fn nomangle U1_BuildProgramWithErrors(
	char8& program_text_start,
	size_type program_text_size,
	LLVMContextRef llvm_context,
	LLVMTargetDataRef data_layout,
	ErrorHanglerFunc error_handler_func,
	void &mut data ) unsafe : bool;
